# üöÄ ZALIZO.STUDIO - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Apache –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è

# ============================================
# –ö–ï–®–£–í–ê–ù–ù–Ø –°–¢–ê–¢–ò–ß–ù–ò–• –†–ï–°–£–†–°–Ü–í
# ============================================

<IfModule mod_expires.c>
    ExpiresActive On
    
    # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è - 1 —Ä—ñ–∫
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType image/x-icon "access plus 1 year"
    
    # –í—ñ–¥–µ–æ - 1 —Ä—ñ–∫
    ExpiresByType video/mp4 "access plus 1 year"
    ExpiresByType video/webm "access plus 1 year"
    
    # –®—Ä–∏—Ñ—Ç–∏ - 1 —Ä—ñ–∫
    ExpiresByType font/woff2 "access plus 1 year"
    ExpiresByType font/woff "access plus 1 year"
    ExpiresByType application/font-woff2 "access plus 1 year"
    
    # CSS —Ç–∞ JavaScript - 1 –º—ñ—Å—è—Ü—å
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType text/javascript "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    
    # HTML - 1 –≥–æ–¥–∏–Ω–∞ (–¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É)
    ExpiresByType text/html "access plus 1 hour"
</IfModule>

# ============================================
# CACHE-CONTROL –ó–ê–ì–û–õ–û–í–ö–ò
# ============================================

<IfModule mod_headers.c>
    # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥–µ–æ - public –∫–µ—à
    <FilesMatch "\.(jpg|jpeg|png|webp|gif|svg|ico|mp4|webm)$">
        Header set Cache-Control "max-age=31536000, public, immutable"
    </FilesMatch>
    
    # –®—Ä–∏—Ñ—Ç–∏ - public –∫–µ—à –∑ CORS
    <FilesMatch "\.(woff2|woff|eot|ttf|otf)$">
        Header set Cache-Control "max-age=31536000, public, immutable"
        Header set Access-Control-Allow-Origin "*"
    </FilesMatch>
    
    # CSS —Ç–∞ JS - public –∫–µ—à
    <FilesMatch "\.(css|js)$">
        Header set Cache-Control "max-age=2592000, public"
    </FilesMatch>
    
    # HTML - –∫–æ—Ä–æ—Ç–∫–∏–π –∫–µ—à
    <FilesMatch "\.(html|htm)$">
        Header set Cache-Control "max-age=3600, public, must-revalidate"
    </FilesMatch>
    
    # –í–∏–¥–∞–ª–∏—Ç–∏ ETag (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Cache-Control)
    Header unset ETag
    FileETag None
</IfModule>

# ============================================
# GZIP –°–¢–ò–°–ù–ï–ù–ù–Ø
# ============================================

<IfModule mod_deflate.c>
    # –°—Ç–∏—Å–∫–∞—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
    AddOutputFilterByType DEFLATE application/json
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/atom_xml
    AddOutputFilterByType DEFLATE image/svg+xml
    AddOutputFilterByType DEFLATE application/vnd.ms-fontobject
    AddOutputFilterByType DEFLATE application/x-font-ttf
    AddOutputFilterByType DEFLATE font/opentype
    
    # –ù–µ —Å—Ç–∏—Å–∫–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–≤–∂–µ —Å—Ç–∏—Å–Ω–µ–Ω—ñ)
    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png|webp)$ no-gzip
    
    # –°—Ç–∏—Å–∫–∞—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤ –∫—Ä—ñ–º —Å—Ç–∞—Ä–∏—Ö IE
    BrowserMatch ^Mozilla/4 gzip-only-text/html
    BrowserMatch ^Mozilla/4\.0[678] no-gzip
    BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
</IfModule>

# ============================================
# –ë–ï–ó–ü–ï–ö–ê
# ============================================

<IfModule mod_headers.c>
    # X-Content-Type-Options
    Header set X-Content-Type-Options "nosniff"
    
    # X-Frame-Options
    Header set X-Frame-Options "SAMEORIGIN"
    
    # X-XSS-Protection
    Header set X-XSS-Protection "1; mode=block"
    
    # Referrer Policy
    Header set Referrer-Policy "strict-origin-when-cross-origin"
    
    # Permissions Policy
    Header set Permissions-Policy "geolocation=(), microphone=(), camera=()"
</IfModule>

# ============================================
# PRELOAD –†–ï–°–£–†–°–Ü–í (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
# ============================================

<IfModule mod_headers.c>
    # Preload –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —à—Ä–∏—Ñ—Ç—ñ–≤
    # <FilesMatch "index\.html$">
    #     Header add Link "</fonts/poppins.woff2>; rel=preload; as=font; type=font/woff2; crossorigin"
    # </FilesMatch>
</IfModule>

# ============================================
# MIME TYPES
# ============================================

<IfModule mod_mime.c>
    # –®—Ä–∏—Ñ—Ç–∏
    AddType font/woff2 .woff2
    AddType font/woff .woff
    AddType application/font-woff2 .woff2
    
    # –í—ñ–¥–µ–æ
    AddType video/mp4 .mp4
    AddType video/webm .webm
    
    # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    AddType image/webp .webp
    AddType image/svg+xml .svg
</IfModule>

# ============================================
# –ü–ï–†–ï–°–ü–†–Ø–ú–£–í–ê–ù–ù–Ø HTTP ‚Üí HTTPS (—è–∫—â–æ —î SSL)
# ============================================

# –†–æ–∑–∫–æ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –¥–ª—è –ø—Ä–∏–º—É—Å–æ–≤–æ–≥–æ HTTPS:
# <IfModule mod_rewrite.c>
#     RewriteEngine On
#     RewriteCond %{HTTPS} off
#     RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
# </IfModule>

# ============================================
# –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø APACHE
# ============================================

# –í–∏–º–∫–Ω—É—Ç–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Å–µ—Ä–≤–µ—Ä–∞
ServerSignature Off

# KeepAlive –¥–ª—è —à–≤–∏–¥—à–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
<IfModule mod_headers.c>
    Header set Connection keep-alive
</IfModule>
